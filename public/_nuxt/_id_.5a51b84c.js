import{A as $,q as B,s as b,g as k,x as T,o as a,c as i,h as t,a as e,t as n,j as w,b as p,d as v,m as C,l as S,D as L,B as N,i as P,w as z,n as y,F,r as V}from"./entry.88697106.js";import j from"./MainLayout.5370bc3f.js";import"./TopNav.8710f2e4.js";import"./nuxt-link.4a68c461.js";const E={key:0,class:"absolute flex items-center justify-center top-0 left-0 aspect-[3/4] w-full object-cover rounded-md border"},M={class:"text-gray-700 text-[25px] pt-1 break-words"},U=["src"],R={class:"px-1"},A={class:"text-gray-700 text-[15px] pt-1 break-words"},D={class:"flex items-center -ml-1 text-gray-600 font-bold text-xs"},I={__name:"PostUser",props:["post"],setup(u){const{$generalStore:c}=S(),s=$(),_=B();let o=b(null),m=b(!1);k(()=>{o.value&&o.value.addEventListener("loadeddata",r=>{r.target&&setTimeout(()=>{m.value=!0},200)})}),T(()=>{o.value.pause(),o.value.currentTime=0,o.value.src=""});const g=r=>{c.setBackUrl("/profile/"+s.params.id),c.selectedPost=null,setTimeout(()=>_.push(`/post/${r.id}`),300)},x=r=>{console.log(o.value.currentSrc),o.value.currentSrc!="http://localhost:8000/"&&(r?o.value.play():o.value.pause())};return(r,l)=>{const d=C;return a(),i("div",{onClick:l[0]||(l[0]=f=>g(u.post)),onMouseenter:l[1]||(l[1]=f=>x(!0)),onMouseleave:l[2]||(l[2]=f=>x(!1)),class:"relative brightness-90 hover:brightness-[1.1] cursor-pointer"},[t(m)?w("",!0):(a(),i("div",E,[e("p",M,n(u.post.text),1)])),e("div",null,[e("video",{ref_key:"video",ref:o,muted:"",loop:"",class:"aspect-[3/4] object-cover rounded-md",src:u.post.video},null,8,U)]),e("div",R,[e("div",A,n(u.post.text),1),e("div",D,[p(d,{name:"gg:loadbar-sound",size:"20"}),v(" 3% "),p(d,{class:"ml-1",name:"tabler:alert-circle",size:"16"})])])],32)}}},O=I,q={class:"flex w-[calc(100vw-230px)]"},H=["src"],G={class:"ml-5 w-full"},J={class:"flex text-[30px] font-bold truncate"},K={class:"text-[18px] truncate"},Q=e("div",null,"Edit profile",-1),W={class:"flex items-center pt-4"},X={class:"mr-4"},Y={class:"font-bold"},Z=e("span",{class:"text-gray-500 font-light text-[15px] pl-1.5"},"Followers",-1),ee={class:"flex mr-4"},te={class:"font-bold"},se=e("span",{class:"text-gray-500 font-light text-[15px] pl-1.5"},"Sparks",-1),oe={class:"pt-4 mr-4 text-gray-500 font-light text-[15px] pl-1.5 max-w-[500px]"},le={class:"w-full flex items-center pt-4 border-b"},re=e("div",{class:"w-60 text-center py-2 text-[17px] font-semibold border-b-2 border-b-black"},"Videos",-1),ne={class:"w-60 text-gray-500 text-center py-2 text-[17px] font-semibold"},ae={class:"mt-4 grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 grid-cols-2 gap-3"},ue={__name:"[id]",setup(u){const{$userStore:c,$profileStore:s,$generalStore:_}=S(),{posts:o,allLikes:m}=L(s),g=$();let x=b(!1);return k(async()=>{try{await s.getProfile(g.params.id)}catch(r){console.log(r)}}),console.log(c.color),N(()=>o.value,()=>{setTimeout(()=>x.value=!0,300)}),(r,l)=>{const d=C,f=O;return a(),P(j,null,{default:z(()=>[t(s).name?(a(),i("div",{key:0,id:"profileContainer",class:y([`bg-gradient-to-br from-white to-${t(c).color}-500`,"pt-[10px] 2xl:pl-[185px] lg:pl-[240px] lg:pr-0 pr-2 w-[calc(100%-90px)] max-w-[1800px] 2xl:mx-auto"])},[e("div",q,[e("img",{class:"max-w-[120px] rounded-full",src:t(s).image},null,8,H),e("div",G,[e("div",J,[v(n(t(_).allLowerCaseNoCaps(t(s).name))+" "+n(console.log("reached profile store",t(s).hatColor))+" ",1),p(d,{class:y(["ml-[40px] self-center",`text-${t(s).hatColor}-600`]),name:"mdi:school",size:"50",id:t(m)},null,8,["class","id"])]),e("div",null,[e("div",K,n(t(s).name),1)]),t(s).id===t(c).id?(a(),i("button",{key:0,onClick:l[0]||(l[0]=h=>t(_).isEditProfileOpen=!0),class:"flex item-center rounded-md py-1.5 px-3.5 mt-3 text-[15px] font-semibold border hover:bg-gray-100"},[p(d,{class:"mt-0.5 mr-1",name:"mdi:pencil",size:"18"}),Q])):(a(),i("button",{key:1,onClick:l[1]||(l[1]=h=>r.follow()),class:"flex item-center rounded-md py-1.5 px-8 mt-3 text-[15px] text-white font-semibold bg-[#f0cc2c]"}," Follow "))])]),e("div",W,[e("div",X,[v(n(console.log("no of follwers",t(s)))+" ",1),e("span",Y,n(t(s).noOfFollwers),1),Z]),e("div",ee,[e("span",te,n(t(m)),1),se])]),e("div",oe,n(t(s).bio),1),e("div",le,[re,e("div",ne,[p(d,{name:"material-symbols:lock-open",class:"mb-0.5"}),v(" Thoughts ")])]),e("div",ae,[t(x)?(a(!0),i(F,{key:0},V(t(s).posts,h=>(a(),i("div",null,[p(f,{post:h},null,8,["post"])]))),256)):w("",!0)])],2)):w("",!0)]),_:1})}}};export{ue as default};
